# 세종대학교 블랙보드 크롤링

[참고 링크](https://taebbong.github.io/categories/%EA%B0%9C%EB%B0%9C/Web-Scraping-Crawling/)

## 목차
> 1. [페이지 불러오기](#1-페이지-불러오기)
> 2. [블랙보드 로그인](#2-블랙보드-로그인)

---


## 1. 페이지 불러오기

```py
from selenium import webdriver # 모듈 불러오기

driver = webdriver.Chrome('크롬 드라이버의 절대 경로')
url = 'https://portal.sejong.ac.kr/jsp/login/loginSSL.jsp?rtUrl=blackboard.sejong.ac.kr'
driver.get(url)

while(True):
    pass
```

이렇게 코드를 작성하고 실행시키면 블랙보드 로그인 화면이 뜨게 된다.  
*(마지막 `while`문은 chrome창이 자동 종료되는 오류를 결하는 코드이다. - 발생 이유를 잘 모르겠다 😥)*

<br/>

## 2. 블랙보드 로그인

`<F12>` 개발자 도구를 사용 !

<br/>

![image](https://user-images.githubusercontent.com/62230430/108622255-da2ac400-747a-11eb-8905-93b5601efe56.png)



- 키보드 보안 해제

세종대학교는 참고한 사이트와는 다르게 보안 키보드 보안이 있어서 해제를 해줘야 한다.
이 때, 키보드 보안 체크를 해제하면 알림창이 뜨기 때문에 확인을 눌러줘야 제대로 실행이 된다.

```py
from selenium.webdriver.common.alert import Alert # 알림창을 제어하기 위해 import

driver.find_element_by_name('chkNos').click()
da = Alert(driver) # da에 Alert 객체 할당
da.accept() # 확인
```

<br/>


- 아이디, 비밀번호 key 입력

```py
driver.find_element_by_name('input의 name').send_keys('아이디, 비밀번호 입력')
```

<br/>

- 로그인 버튼 클릭 

로그인 버튼을 찾아서, **오른쪽 마우스 > copy > copy by xpath**를 통해 복사한 뒤,  
`click()` 함수를 호출

```py
driver.find_element_by_xpath('XPATH 입력').click()
```

<br/>

- 전체 코드

```py
from selenium import webdriver
from selenium.webdriver.common.alert import Alert

# 페이지 불러오기
driver = webdriver.Chrome('크롬 드라이버의 절대 경로')
url = 'https://portal.sejong.ac.kr/jsp/login/loginSSL.jsp?rtUrl=blackboard.sejong.ac.kr'
driver.get(url)

# 로그인
driver.find_element_by_name('chkNos').click()
da = Alert(driver) # 알림 창 제어
da.accept()
driver.find_element_by_name('id').send_keys('') # id 입력하기
driver.find_element_by_name('password').send_keys('') # pw 입력하기
driver.find_element_by_xpath('//*[@id="loginBtn"]').click() # 로그인 버튼 클릭
```
